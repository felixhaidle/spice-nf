params {
  config_profile_name        = 'AKE'
  config_profile_description = 'AKE cluster profile for the spice_library_pipeline'
  config_profile_contact = 'Felix Haidle'
  anno_tools = '/share/project/felix/spice-nf/FAS_SLURM_EXECUTABLE/FAS/'
}


conda.enabled           = true

executor{
    queueSize = 20
}

process {

    conda = "/home/felix/miniconda3/envs/spice_env"

    executor = 'slurm'
    queue = 'all'
    errorStrategy = { task.exitStatus in ((130..145) + 104) ? 'retry' : 'finish' }
    maxRetries    = 3
    maxErrors     = '-1'



    withName: 'FAS_ANNOTATION' {
        cpus = 16
        memory = '16GB'
    }

    withName: 'FAS_SCORING' {
        cpus = 1
        memory = '2GB'
    }

    withName: 'CONCAT_FAS_SCORES' {
        cpus = 1
        memory = '2GB'
    }

    withName: 'SEQUENCES' {
        cpus = 1
        memory = '2GB'
    }

    withName: 'LIBRARY_INITIALIZATION' {
        cpus = 1
        memory = '2GB'
    }

    withName: 'LIBRARY_RESTRUCTURE' {
        cpus = 1
        memory = '2GB'
    }

}
